# ===============================================================
  # JOB 6: NOTIFICATION
  # ===============================================================
  notify:
    name: "Notify Test Results - Sprint 10"
    runs-on: windows-latest
    needs: [test-report]
    if: always()
    
    steps:
    - name: Notify Success
      if: success()
      run: |
        echo "üéâ All automated tests passed - Sprint 10 Complete!"
        echo "Sprint 10: Multi-BIB Production + Real GPIO integration test suite completed successfully"
        echo "‚úÖ Foundation: Windows Service with enterprise logging"
        echo "‚úÖ Discovery: Thread-safe pool management + device grouping"
        echo "‚úÖ Communication: Production RS232 + XML configuration"
        echo "‚úÖ Enhancement: Dynamic EEPROM + regex validation"
        echo "‚úÖ Intelligence: 4-level validation + hardware hooks"
        echo "‚úÖ Production: Multi-BIB orchestration + real GPIO control"
        echo "üöÄ Ready for Sprint 11: Enterprise Features & Advanced Analytics"
        
    - name: Notify Failure
      if: failure()
      run: |
        echo "‚ùå Some automated tests failed - Sprint 10!"
        echo "Check the workflow logs for details"
        echo "Sprint 10 Multi-BIB + GPIO integration requires investigation"
        echo "Review failed test cases and build outputs"

  # ===============================================================
  # JOB 7: SPRINT 13 TESTS - Hot Add & Hardware Simulation
  # ===============================================================
  sprint13-tests:
    name: "Sprint 13 - Hot Add & Hardware Simulation Tests"
    runs-on: windows-latest
    needs: unit-tests
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Setup .NET 9.0
      uses: actions/setup-dotnet@v4
      with:
        dotnet-version: 9.0.x
        
    - name: Build Sprint 13 Projects
      run: |
        dotnet build SerialPortPool.Core/ --configuration Release
        dotnet build SerialPortPoolService/ --configuration Release
        
    - name: "TC-027: Sprint 13 Unit Tests"
      run: |
        echo "::group::TC-027 - Sprint 13 Unit Tests"
        dotnet test tests/SerialPortPool.Core.Tests/ --filter "Category=Sprint13" --configuration Release --verbosity normal
        if ($LASTEXITCODE -eq 0) {
          echo "‚úÖ TC-027 PASSED - Sprint 13 unit tests completed successfully"
        } else {
          echo "‚ùå TC-027 FAILED - Sprint 13 unit tests failed"
          exit 1
        }
        echo "::endgroup::"